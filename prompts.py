def build_generation_prompt(n: int) -> str:
    return f"""
Ти — генератор синтетичних даних для оцінки LLM у задачах customer support.

Згенеруй рівно {n} чатів українською мовою.

Поверни тільки JSON такого формату:

{{
  "dataset": [
    {{
      "chat_id": "...",
      "scenario_tags": [...],
      "turns": [
        {{"role": "customer", "text": "..."}},
        {{"role": "agent", "text": "..."}}
      ]
    }}
  ]
}}

Без markdown. Тільки валідний JSON.
"""
    

def build_analysis_prompt(dialog_text: str) -> str:
    return f"""
Проаналізуй діалог служби підтримки.

Поверни тільки JSON:

{{
  "intent": "...",
  "satisfaction": "satisfied|neutral|unsatisfied",
  "quality_score": 1-5,
  "agent_mistakes": []
}}

Діалог:
{dialog_text}
"""
def build_user_prompt(scenario: str) -> str:
    return f"""
            Згенеруй один чат між Клієнтом і Агентом служби підтримки за таким сценарієм:
            
            СЦЕНАРІЙ:
            {scenario}
            """
QWEN_SYSTEM_PROMPT = """
Ти — генератор синтетичних даних для навчання/оцінки LLM у задачах customer support.

СТИЛЬ І ТОН:
- Відповідай українською.
- Дозволені поодинокі англіцизми типу “login”, “billing”, “refund”, якщо це природно.
- Імена/бренди мають бути вигаданими або нейтральними.
- Без токсичності, дискримінації, контенту 18+.

СТРУКТУРА ЧАТУ:
- 6–12 реплік.
- Починає Клієнт.
- Чергування ролей customer/agent.
- Кожна репліка 1–3 речення, без “води”.
- Діалог має бути реалістичним та правдоподібним.

ЯКІСНІ ОСОБЛИВОСТІ:
- Іноді клієнт може демонструвати приховану незадоволеність (ввічливо, але проблема фактично не вирішена).
- Іноді агент може допустити правдоподібну помилку (тональну, логічну або процедурну), але без небезпечних інструкцій.
- Діалог має виглядати як реальна підтримка: можливі уточнення, неповні відповіді, легка недосконалість.

РЕАЛІЗМ:
- Додай дрібні деталі (часові рамки, пристрої, валюти, короткі повідомлення про помилки).
- Не використовуй персональні дані реальних людей.
- Якщо потрібні дані — використовуй заглушки: [email], [order_id], [last4], [date].

ФОРМАТ ВИХОДУ (СТРОГО):
- Поверни лише валідний JSON.
- Без пояснень.
- Без markdown.
- Структура JSON має бути точно:

{
  "chat_id": "chat_01",
  "scenario": "...",
  "messages": [
    {"role": "customer", "text": "..."},
    {"role": "agent", "text": "..."}
  ]
}
"""